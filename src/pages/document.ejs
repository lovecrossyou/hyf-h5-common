<!doctype html>
<html>

<head>
  <meta charset="utf-8"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
  <meta name="format-detection" content="telephone=no"/>
  <meta name="format-detection" content="email=no"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no">
  <script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script>
  <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
  <title></title>
</head>


<body>
<div id="root"></div>
</body>
<script>
  //lottery_confirm 选号面板 选择完地址后确认
  $('#root').parent().on('click', '.lottery_confirm_fucai', function() {

    console.log('lottery_confirm_fucai ')
    const dispatch = window.g_app._store.dispatch;
    dispatch({
      type: 'lotteryselect/confirm_fucai',
      cb: data => {
        const groupId = data.discountGameGroupModel.groupId;
        let url = '/pages/order/zeroOrderResult?' + 'discountGameId=' + discountGameId + '&inviteGroupId=' + groupId;
        wx.miniProgram.navigateTo({ url: url });
      },
    });
  });

  //银行卡列表
  $('#root').on('click', '.wallet_bank', function() {
    console.log('银行卡列表');
    wx.miniProgram.navigateTo({ url: '/pages/account/bindbank-list' });

  });

  //提现
  $('#root').on('click', '.wallet_withdraw', function() {
    console.log('提现');
    wx.miniProgram.navigateTo({ url: '/pages/wallet/withdraw' });
  });

  // 会员购买以及升级
  $('#root').on('click', '.vip_right_action', function() {
    const vip_type = $(this).attr('vip_type');
    console.log('会员购买以及升级 vip_type ', vip_type);
    wx.miniProgram.postMessage({ data: vip_type });
    wx.miniProgram.navigateBack();
  });


  // 确认选号后 返回
  $('#root').on('click', '.lottery_btn_confirm', function() {
    const state = window.g_app._store.getState();
    const lotteryselect = state.lotteryselect;
    const selectedBids = lotteryselect.selectedBids;
    if (window.__wxjs_environment) {
      // 小程序环境
      const type = lotteryselect.type;
      if (type === '3d') {
        wx.miniProgram.postMessage({ data: selectedBids });
        wx.miniProgram.navigateBack();
      }
      else {
        // wx.miniProgram.redirectTo({ url: '/pages/pindan/pindan' });
      }
    }
    else {
      // 非小程序环境
      window.postMessage(JSON.stringify(selectedBids));
    }
  });


  // 账单明细
  $('#root').on('click', '.account_record', function() {
    wx.miniProgram.navigateTo({ url: '/pages/account/account-list' });
  });



</script>
</html>
